<meta charset=utf-8>
<a href=//github.com/xem/obfuscatweet><img style="position:absolute;top:0;right:0;border:0;" src="https://s3.amazonaws.com/github/ribbons/forkme_right_darkblue_121621.png" alt="Fork me on GitHub"></a>
<style>
body { width: 700px; margin: 0 auto; font-family: arial; }
textarea { width: 700px; height: 130px; border: 2px solid #000; padding: 15px }
</style>
<center>
<h1>Obfusc-a-tweet</h1>
Pack up to <b>194 JS characters</b> or <b>178 text/HTML characters</b> in a single tweet.
<br>
<br>
<a href="http://xem.github.io/golfing/#jstweet_en">More info</a>
<br>
<br>
<center>
JS code, ASCII:
<br>
(for text/HTML, type <b>document.write`...text/HTML...`</b>)
<br>
<textarea id=s></textarea>
<br>
<br>
<br>
Packed:
<textarea id=r></textarea>
<br>
<br>
<b id=l>0</b> chars - <button onclick=location="//twitter.com?status="+encodeURIComponent(r.value)>tweet!</button>
<br>
<br>
<br>
© 2014-2016 Maxime Euzière, Subzey
</center>
<script>

// Black magic

compressAscii=function(b,c,a){c="";if(b.length%2)b+=" ";f=String.fromCharCode;for(a=0;b.length>a;a+=2)c+=f(55296+b[e="charCodeAt"](a))+f(56320+b[e](a+1));return c}
onload=oninput=function(){
  if(s.value){
    r.value="eval(unescape(escape`"+compressAscii(s.value)+"`.replace(/uD./g,'')))";
    l.innerHTML=((r.value.length-43)/2)+43;
  }
  else
    r.value="";
}

</script>
